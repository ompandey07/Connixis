<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Connixis - Advanced Network Engineering Simulator">
    <meta name="theme-color" content="#3b82f6">
    <title>Connixis - Network Simulator</title>
    
    <!-- Icon Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css">
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="Logo.png" type="image/x-icon">


    <!-- Stylesheet -->
    <link rel="stylesheet" href="tool.css">
</head>
<body>
    <div class="app-container" id="appContainer">
        <!-- Mobile Sidebar Toggle -->
        <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle Sidebar">
            <i class="ri-menu-line"></i>
        </button>
        
        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- Left Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <a href="index.html">
                        <img src="Logo.png" alt="Connixis">
                    </a>
                </div>
            </div>

            <div class="sidebar-content">
                <!-- End Devices -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-computer-line"></i>
                        <span>End Devices</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="pc">
                            <div class="device-icon endpoint"><i class="ri-computer-fill"></i></div>
                            <div class="device-name">Desktop PC</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="laptop">
                            <div class="device-icon endpoint"><i class="ri-macbook-fill"></i></div>
                            <div class="device-name">Laptop</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="server">
                            <div class="device-icon endpoint"><i class="ri-server-fill"></i></div>
                            <div class="device-name">Server</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="workstation">
                            <div class="device-icon endpoint"><i class="ri-computer-fill"></i></div>
                            <div class="device-name">Workstation</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="mobile">
                            <div class="device-icon wireless"><i class="ri-smartphone-fill"></i></div>
                            <div class="device-name">Mobile</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="tablet">
                            <div class="device-icon wireless"><i class="ri-tablet-fill"></i></div>
                            <div class="device-name">Tablet</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="printer">
                            <div class="device-icon endpoint"><i class="ri-printer-fill"></i></div>
                            <div class="device-name">Printer</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="ip-phone">
                            <div class="device-icon endpoint"><i class="ri-phone-fill"></i></div>
                            <div class="device-name">IP Phone</div>
                        </div>
                    </div>
                </div>

                <!-- Network Devices -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-router-line"></i>
                        <span>Network Devices</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="router">
                            <div class="device-icon network"><i class="ri-router-fill"></i></div>
                            <div class="device-name">Router</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="switch">
                            <div class="device-icon network"><i class="ri-git-branch-fill"></i></div>
                            <div class="device-name">Switch L2</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="l3switch">
                            <div class="device-icon network"><i class="ri-git-merge-fill"></i></div>
                            <div class="device-name">Switch L3</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="hub">
                            <div class="device-icon network"><i class="ri-share-circle-fill"></i></div>
                            <div class="device-name">Hub</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="bridge">
                            <div class="device-icon network"><i class="ri-arrow-left-right-fill"></i></div>
                            <div class="device-name">Bridge</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="repeater">
                            <div class="device-icon network"><i class="ri-repeat-fill"></i></div>
                            <div class="device-name">Repeater</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="modem">
                            <div class="device-icon network"><i class="ri-base-station-fill"></i></div>
                            <div class="device-name">Modem</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="gateway">
                            <div class="device-icon network"><i class="ri-door-open-fill"></i></div>
                            <div class="device-name">Gateway</div>
                        </div>
                    </div>
                </div>

                <!-- Wireless Devices -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-wifi-line"></i>
                        <span>Wireless Devices</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="accesspoint">
                            <div class="device-icon wireless"><i class="ri-wireless-charging-fill"></i></div>
                            <div class="device-name">Access Point</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="wlc">
                            <div class="device-icon wireless"><i class="ri-radar-fill"></i></div>
                            <div class="device-name">WLC</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="mesh">
                            <div class="device-icon wireless"><i class="ri-bubble-chart-fill"></i></div>
                            <div class="device-name">Mesh Node</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="antenna">
                            <div class="device-icon wireless"><i class="ri-signal-tower-fill"></i></div>
                            <div class="device-name">Antenna</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="wifi-extender">
                            <div class="device-icon wireless"><i class="ri-signal-wifi-fill"></i></div>
                            <div class="device-name">WiFi Extender</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="wireless-bridge">
                            <div class="device-icon wireless"><i class="ri-share-forward-fill"></i></div>
                            <div class="device-name">Wireless Bridge</div>
                        </div>
                    </div>
                </div>

                <!-- Security Devices -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-shield-check-line"></i>
                        <span>Security Devices</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="firewall">
                            <div class="device-icon security"><i class="ri-fire-fill"></i></div>
                            <div class="device-name">Firewall</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="ngfw">
                            <div class="device-icon security"><i class="ri-shield-flash-fill"></i></div>
                            <div class="device-name">NGFW</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="ids">
                            <div class="device-icon security"><i class="ri-search-eye-fill"></i></div>
                            <div class="device-name">IDS/IPS</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="vpn">
                            <div class="device-icon security"><i class="ri-lock-2-fill"></i></div>
                            <div class="device-name">VPN Gateway</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="waf">
                            <div class="device-icon security"><i class="ri-shield-star-fill"></i></div>
                            <div class="device-name">WAF</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="proxy">
                            <div class="device-icon security"><i class="ri-filter-3-fill"></i></div>
                            <div class="device-name">Proxy Server</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="asa">
                            <div class="device-icon security"><i class="ri-shield-keyhole-fill"></i></div>
                            <div class="device-name">Cisco ASA</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="utm">
                            <div class="device-icon security"><i class="ri-shield-check-fill"></i></div>
                            <div class="device-name">UTM</div>
                        </div>
                    </div>
                </div>

                <!-- Cloud & WAN -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-cloud-line"></i>
                        <span>Cloud & WAN</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="cloud">
                            <div class="device-icon cloud"><i class="ri-cloud-fill"></i></div>
                            <div class="device-name">Cloud</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="internet">
                            <div class="device-icon cloud"><i class="ri-earth-fill"></i></div>
                            <div class="device-name">Internet</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="datacenter">
                            <div class="device-icon cloud"><i class="ri-database-2-fill"></i></div>
                            <div class="device-name">Data Center</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="loadbalancer">
                            <div class="device-icon cloud"><i class="ri-scales-3-fill"></i></div>
                            <div class="device-name">Load Balancer</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="dns">
                            <div class="device-icon cloud"><i class="ri-global-fill"></i></div>
                            <div class="device-name">DNS Server</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="dhcp">
                            <div class="device-icon cloud"><i class="ri-settings-4-fill"></i></div>
                            <div class="device-name">DHCP Server</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="cdn">
                            <div class="device-icon cloud"><i class="ri-speed-fill"></i></div>
                            <div class="device-name">CDN Node</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="wan-emulator">
                            <div class="device-icon cloud"><i class="ri-exchange-line"></i></div>
                            <div class="device-name">WAN Emulator</div>
                        </div>
                    </div>
                </div>

                <!-- Storage Devices -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-hard-drive-2-line"></i>
                        <span>Storage Devices</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="nas">
                            <div class="device-icon storage"><i class="ri-hard-drive-2-fill"></i></div>
                            <div class="device-name">NAS</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="san">
                            <div class="device-icon storage"><i class="ri-server-fill"></i></div>
                            <div class="device-name">SAN</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="backup-server">
                            <div class="device-icon storage"><i class="ri-database-fill"></i></div>
                            <div class="device-name">Backup Server</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="file-server">
                            <div class="device-icon storage"><i class="ri-folder-5-fill"></i></div>
                            <div class="device-name">File Server</div>
                        </div>
                    </div>
                </div>

                <!-- IoT Devices -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-sensor-line"></i>
                        <span>IoT & Sensors</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="iot-sensor">
                            <div class="device-icon wireless"><i class="ri-sensor-fill"></i></div>
                            <div class="device-name">IoT Sensor</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="camera">
                            <div class="device-icon wireless"><i class="ri-camera-fill"></i></div>
                            <div class="device-name">IP Camera</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="smartdevice">
                            <div class="device-icon wireless"><i class="ri-home-wifi-fill"></i></div>
                            <div class="device-name">Smart Device</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="plc">
                            <div class="device-icon network"><i class="ri-cpu-fill"></i></div>
                            <div class="device-name">PLC</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="iot-gateway">
                            <div class="device-icon wireless"><i class="ri-door-lock-fill"></i></div>
                            <div class="device-name">IoT Gateway</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="scada">
                            <div class="device-icon network"><i class="ri-dashboard-3-fill"></i></div>
                            <div class="device-name">SCADA</div>
                        </div>
                    </div>
                </div>

                <!-- Voice & Video -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-vidicon-line"></i>
                        <span>Voice & Video</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="voip-server">
                            <div class="device-icon endpoint"><i class="ri-voiceprint-fill"></i></div>
                            <div class="device-name">VoIP Server</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="video-conf">
                            <div class="device-icon endpoint"><i class="ri-vidicon-fill"></i></div>
                            <div class="device-name">Video Conf</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="pbx">
                            <div class="device-icon endpoint"><i class="ri-phone-fill"></i></div>
                            <div class="device-name">PBX</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="sip-trunk">
                            <div class="device-icon network"><i class="ri-phone-line"></i></div>
                            <div class="device-name">SIP Trunk</div>
                        </div>
                    </div>
                </div>

                <!-- Connections -->
                <div class="device-category">
                    <div class="category-header" onclick="toggleCategory(this)">
                        <i class="ri-links-line"></i>
                        <span>Connection Points</span>
                        <i class="ri-arrow-down-s-line chevron"></i>
                    </div>
                    <div class="device-grid">
                        <div class="device-item" draggable="true" data-type="patch-panel">
                            <div class="device-icon network"><i class="ri-layout-grid-fill"></i></div>
                            <div class="device-name">Patch Panel</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="wall-jack">
                            <div class="device-icon endpoint"><i class="ri-plug-fill"></i></div>
                            <div class="device-name">Wall Jack</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="fiber-node">
                            <div class="device-icon cloud"><i class="ri-flashlight-fill"></i></div>
                            <div class="device-name">Fiber Node</div>
                        </div>
                        <div class="device-item" draggable="true" data-type="mdf">
                            <div class="device-icon network"><i class="ri-building-fill"></i></div>
                            <div class="device-name">MDF/IDF</div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Canvas Area -->
        <main class="main-area">
            <!-- Toolbar -->
            <div class="toolbar">
                <div class="toolbar-group">
                    <button class="tool-btn active" id="selectTool" title="Select Tool (V)">
                        <i class="ri-cursor-fill"></i>
                        <span>Select</span>
                    </button>
                    <button class="tool-btn" id="connectTool" title="Connect Tool (C)">
                        <i class="ri-link"></i>
                        <span>Connect</span>
                    </button>
                    <button class="tool-btn icon-only" id="noteTool" title="Add Note (N)">
                        <i class="ri-sticky-note-fill"></i>
                    </button>
                </div>

                <div class="toolbar-group">
                    <select class="tool-select" id="cableType" title="Cable Type">
                        <option value="ethernet">Ethernet (Cat6)</option>
                        <option value="fiber">Fiber Optic</option>
                        <option value="crossover">Crossover</option>
                        <option value="serial">Serial DCE/DTE</option>
                        <option value="console">Console</option>
                        <option value="wireless">Wireless Link</option>
                    </select>
                </div>

                <div class="toolbar-group">
                    <button class="tool-btn" id="pingTool" title="Ping Test">
                        <i class="ri-radar-fill"></i>
                        <span>Ping</span>
                    </button>
                    <button class="tool-btn" id="tracerouteTool" title="Traceroute">
                        <i class="ri-route-fill"></i>
                        <span>Trace</span>
                    </button>
                    <button class="tool-btn icon-only" id="packetCapture" title="Packet Capture">
                        <i class="ri-file-search-fill"></i>
                    </button>
                </div>

                <div class="toolbar-group">
                    <button class="tool-btn" id="subnetCalc" title="Subnet Calculator">
                        <i class="ri-calculator-fill"></i>
                        <span>Subnet</span>
                    </button>
                    <button class="tool-btn icon-only" id="macLookup" title="MAC Lookup">
                        <i class="ri-search-2-fill"></i>
                    </button>
                </div>

                <div class="toolbar-group">
                    <button class="tool-btn icon-only" id="zoomIn" title="Zoom In (+)">
                        <i class="ri-zoom-in-fill"></i>
                    </button>
                    <button class="tool-btn icon-only" id="zoomOut" title="Zoom Out (-)">
                        <i class="ri-zoom-out-fill"></i>
                    </button>
                    <button class="tool-btn icon-only" id="fitView" title="Fit to View">
                        <i class="ri-focus-3-fill"></i>
                    </button>
                    <button class="tool-btn icon-only" id="fullscreenBtn" title="Toggle Fullscreen (F11)">
                        <i class="ri-fullscreen-fill"></i>
                    </button>
                </div>

                <div class="toolbar-group" style="margin-left: auto;">
                    <button class="tool-btn success" id="runSimulation" title="Run Simulation">
                        <i class="ri-play-fill"></i>
                        <span>Run</span>
                    </button>
                    
                    <!-- Save Button - Opens Modal -->
                    <button class="tool-btn" id="saveBtn" title="Save (Ctrl+S)">
                        <i class="ri-save-3-fill"></i>
                        <span>Save</span>
                    </button>
                    
                    <!-- Load Button -->
                    <button class="tool-btn icon-only" id="loadBtn" title="Load (Ctrl+O)">
                        <i class="ri-folder-open-fill"></i>
                    </button>
                    
                    <button class="tool-btn danger icon-only" id="clearAll" title="Clear All">
                        <i class="ri-delete-bin-fill"></i>
                    </button>
                </div>
            </div>

            <!-- Canvas -->
            <div class="canvas-container" id="canvasContainer">
                <div id="zoomWrapper">
                    <div class="canvas-grid"></div>
                    <svg id="networkCanvas" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="ethernetGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#5ba3f7"/>
                                <stop offset="50%" style="stop-color:#3b82f6"/>
                                <stop offset="100%" style="stop-color:#2563eb"/>
                            </linearGradient>
                            <linearGradient id="fiberGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#fbbf24"/>
                                <stop offset="50%" style="stop-color:#f59e0b"/>
                                <stop offset="100%" style="stop-color:#d97706"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
            </div>

            <!-- Status Bar -->
            <div class="status-bar">
                <div class="status-item success">
                    <i class="ri-checkbox-circle-fill"></i>
                    <span>Ready</span>
                </div>
                <div class="status-item">
                    <i class="ri-computer-line"></i>
                    <span>Devices: <strong id="deviceCount">0</strong></span>
                </div>
                <div class="status-item">
                    <i class="ri-link"></i>
                    <span>Links: <strong id="connectionCount">0</strong></span>
                </div>
                <div class="status-item">
                    <i class="ri-send-plane-fill"></i>
                    <span>Packets: <strong id="packetCount">0</strong></span>
                </div>
                <div class="status-item" style="margin-left: auto;">
                    <i class="ri-time-line"></i>
                    <span id="currentTime">00:00:00</span>
                </div>
                <div class="status-item">
                    <span>Zoom: <strong id="zoomLevel">100%</strong></span>
                </div>
            </div>
        </main>

        <!-- Mobile Panel Toggle -->
        <button class="panel-toggle" id="panelToggle" aria-label="Toggle Panel">
            <i class="ri-settings-3-fill"></i>
        </button>

        <!-- Right Panel -->
        <aside class="right-panel" id="rightPanel">
            <div class="panel-header">
                <i class="ri-dashboard-3-fill"></i>
                <h2>Properties</h2>
            </div>

            <div class="panel-tabs">
                <div class="panel-tab active" data-tab="config">
                    <i class="ri-settings-3-fill"></i>
                    Config
                </div>
                <div class="panel-tab" data-tab="routing">
                    <i class="ri-route-fill"></i>
                    Routing
                </div>
                <div class="panel-tab" data-tab="vlan">
                    <i class="ri-price-tag-3-fill"></i>
                    VLAN
                </div>
                <div class="panel-tab" data-tab="acl">
                    <i class="ri-shield-keyhole-fill"></i>
                    ACL
                </div>
                <div class="panel-tab" data-tab="cli">
                    <i class="ri-terminal-box-fill"></i>
                    CLI
                </div>
            </div>

            <div class="panel-content">
                <!-- Config Panel -->
                <div class="panel-section active" id="configPanel">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--accent-primary-light); color: var(--accent-primary);">
                                <i class="ri-computer-fill"></i>
                            </div>
                            <div class="stat-value" id="totalDevices">0</div>
                            <div class="stat-label">Devices</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--accent-green-light); color: var(--accent-green);">
                                <i class="ri-link"></i>
                            </div>
                            <div class="stat-value" id="totalLinks">0</div>
                            <div class="stat-label">Connections</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--accent-orange-light); color: var(--accent-orange);">
                                <i class="ri-send-plane-2-fill"></i>
                            </div>
                            <div class="stat-value" id="activePackets">0</div>
                            <div class="stat-label">Packets</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--accent-purple-light); color: var(--accent-purple);">
                                <i class="ri-heart-pulse-fill"></i>
                            </div>
                            <div class="stat-value" id="networkHealth">100%</div>
                            <div class="stat-label">Health</div>
                        </div>
                    </div>

                    <div class="config-group" id="deviceConfigGroup" style="display: none;">
                        <div class="config-group-header">
                            <i class="ri-settings-4-fill"></i>
                            <h4>Device Configuration</h4>
                        </div>
                        <div class="config-row">
                            <label>Hostname</label>
                            <input type="text" id="deviceName" placeholder="Device name">
                        </div>
                        <div class="config-row">
                            <label>IP Address</label>
                            <input type="text" id="deviceIP" placeholder="192.168.1.1">
                        </div>
                        <div class="config-row">
                            <label>Subnet</label>
                            <input type="text" id="deviceSubnet" placeholder="255.255.255.0">
                        </div>
                        <div class="config-row">
                            <label>Gateway</label>
                            <input type="text" id="deviceGateway" placeholder="192.168.1.1">
                        </div>
                        <div class="config-row">
                            <label>DNS</label>
                            <input type="text" id="deviceDNS" placeholder="8.8.8.8">
                        </div>
                        <div class="config-row">
                            <label>MAC</label>
                            <input type="text" id="deviceMAC" readonly>
                        </div>
                        <div class="config-row">
                            <label>VLAN</label>
                            <select id="deviceVLAN">
                                <option value="1">VLAN 1 - Default</option>
                                <option value="10">VLAN 10 - Mgmt</option>
                                <option value="20">VLAN 20 - Users</option>
                                <option value="30">VLAN 30 - Servers</option>
                                <option value="100">VLAN 100 - Guest</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" id="applyConfig">
                            <i class="ri-check-fill"></i>
                            Apply
                        </button>
                        <button class="btn btn-danger" id="deleteDevice">
                            <i class="ri-delete-bin-fill"></i>
                            Delete
                        </button>
                    </div>

                    <div class="config-group" id="interfaceConfig" style="display: none;">
                        <div class="config-group-header">
                            <i class="ri-ethernet-fill"></i>
                            <h4>Interfaces</h4>
                        </div>
                        <div id="interfaceList"></div>
                    </div>

                    <div class="empty-state" id="emptyState">
                        <i class="ri-cursor-fill"></i>
                        <p>Select a device to configure</p>
                    </div>
                </div>

                <!-- Routing Panel -->
                <div class="panel-section" id="routingPanel">
                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-road-map-fill"></i>
                            <h4>Routing Table</h4>
                        </div>
                        <div id="routingTableContainer">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Network</th>
                                        <th>Mask</th>
                                        <th>Next Hop</th>
                                        <th>IF</th>
                                        <th>AD</th>
                                    </tr>
                                </thead>
                                <tbody id="routingTableBody">
                                    <tr>
                                        <td colspan="5" style="text-align: center; color: var(--text-muted);">
                                            Select a router
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-add-circle-fill"></i>
                            <h4>Add Static Route</h4>
                        </div>
                        <div class="config-row">
                            <label>Network</label>
                            <input type="text" id="routeNetwork" placeholder="10.0.0.0">
                        </div>
                        <div class="config-row">
                            <label>Mask</label>
                            <input type="text" id="routeMask" placeholder="255.255.255.0">
                        </div>
                        <div class="config-row">
                            <label>Next Hop</label>
                            <input type="text" id="routeNextHop" placeholder="192.168.1.1">
                        </div>
                        <div class="config-row">
                            <label>Interface</label>
                            <select id="routeInterface">
                                <option value="Gi0/0">Gi0/0</option>
                                <option value="Gi0/1">Gi0/1</option>
                                <option value="Gi0/2">Gi0/2</option>
                                <option value="Gi0/3">Gi0/3</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label>Metric</label>
                            <input type="number" id="routeMetric" value="1" min="1" max="255">
                        </div>
                        <button class="btn btn-primary" id="addRoute">
                            <i class="ri-add-fill"></i>
                            Add Route
                        </button>
                    </div>

                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-settings-2-fill"></i>
                            <h4>Routing Protocol</h4>
                        </div>
                        <div class="config-row">
                            <label>Protocol</label>
                            <select id="routingProtocol">
                                <option value="static">Static</option>
                                <option value="rip">RIPv2</option>
                                <option value="ospf">OSPF</option>
                                <option value="eigrp">EIGRP</option>
                                <option value="bgp">BGP</option>
                            </select>
                        </div>
                        <button class="btn btn-success" id="enableRouting">
                            <i class="ri-play-fill"></i>
                            Enable
                        </button>
                    </div>
                </div>

                <!-- VLAN Panel -->
                <div class="panel-section" id="vlanPanel">
                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-price-tag-3-fill"></i>
                            <h4>VLAN Database</h4>
                        </div>
                        <div id="vlanList">
                            <div class="vlan-entry">
                                <div class="vlan-color" style="background: var(--accent-primary);"></div>
                                <div class="vlan-info">
                                    <div class="vlan-name">Default</div>
                                    <div class="vlan-id">VLAN 1</div>
                                </div>
                                <span class="vlan-ports">All</span>
                            </div>
                            <div class="vlan-entry">
                                <div class="vlan-color" style="background: var(--accent-green);"></div>
                                <div class="vlan-info">
                                    <div class="vlan-name">Management</div>
                                    <div class="vlan-id">VLAN 10</div>
                                </div>
                                <span class="vlan-ports">Fa0/1-4</span>
                            </div>
                            <div class="vlan-entry">
                                <div class="vlan-color" style="background: var(--accent-orange);"></div>
                                <div class="vlan-info">
                                    <div class="vlan-name">Users</div>
                                    <div class="vlan-id">VLAN 20</div>
                                </div>
                                <span class="vlan-ports">Fa0/5-12</span>
                            </div>
                            <div class="vlan-entry">
                                <div class="vlan-color" style="background: var(--accent-red);"></div>
                                <div class="vlan-info">
                                    <div class="vlan-name">Servers</div>
                                    <div class="vlan-id">VLAN 30</div>
                                </div>
                                <span class="vlan-ports">Fa0/13-16</span>
                            </div>
                            <div class="vlan-entry">
                                <div class="vlan-color" style="background: var(--accent-purple);"></div>
                                <div class="vlan-info">
                                    <div class="vlan-name">Guest</div>
                                    <div class="vlan-id">VLAN 100</div>
                                </div>
                                <span class="vlan-ports">Fa0/17-24</span>
                            </div>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-add-circle-fill"></i>
                            <h4>Create VLAN</h4>
                        </div>
                        <div class="config-row">
                            <label>VLAN ID</label>
                            <input type="number" id="newVlanId" min="2" max="4094" placeholder="2-4094">
                        </div>
                        <div class="config-row">
                            <label>Name</label>
                            <input type="text" id="newVlanName" placeholder="VLAN name">
                        </div>
                        <button class="btn btn-primary" id="createVlan">
                            <i class="ri-add-fill"></i>
                            Create
                        </button>
                    </div>

                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-ethernet-fill"></i>
                            <h4>Port Config</h4>
                        </div>
                        <div class="config-row">
                            <label>Mode</label>
                            <select id="portMode">
                                <option value="access">Access</option>
                                <option value="trunk">Trunk</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label>Access</label>
                            <input type="number" id="accessVlan" value="1" min="1">
                        </div>
                        <div class="config-row">
                            <label>Native</label>
                            <input type="number" id="nativeVlan" value="1" min="1">
                        </div>
                    </div>
                </div>

                <!-- ACL Panel -->
                <div class="panel-section" id="aclPanel">
                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-shield-keyhole-fill"></i>
                            <h4>Access Control Lists</h4>
                        </div>
                        <div id="firewallRules">
                            <div class="firewall-rule">
                                <span class="rule-number">10</span>
                                <span class="rule-action allow">PERMIT</span>
                                <span class="rule-protocol">TCP</span>
                                <span class="rule-details">any → 80,443</span>
                                <i class="ri-delete-bin-line rule-delete"></i>
                            </div>
                            <div class="firewall-rule">
                                <span class="rule-number">20</span>
                                <span class="rule-action allow">PERMIT</span>
                                <span class="rule-protocol">ICMP</span>
                                <span class="rule-details">any → any</span>
                                <i class="ri-delete-bin-line rule-delete"></i>
                            </div>
                            <div class="firewall-rule">
                                <span class="rule-number">30</span>
                                <span class="rule-action allow">PERMIT</span>
                                <span class="rule-protocol">UDP</span>
                                <span class="rule-details">any → 53</span>
                                <i class="ri-delete-bin-line rule-delete"></i>
                            </div>
                            <div class="firewall-rule">
                                <span class="rule-number">40</span>
                                <span class="rule-action deny">DENY</span>
                                <span class="rule-protocol">TCP</span>
                                <span class="rule-details">any → 23</span>
                                <i class="ri-delete-bin-line rule-delete"></i>
                            </div>
                            <div class="firewall-rule">
                                <span class="rule-number">100</span>
                                <span class="rule-action deny">DENY</span>
                                <span class="rule-protocol">IP</span>
                                <span class="rule-details">any → any</span>
                                <i class="ri-delete-bin-line rule-delete"></i>
                            </div>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-add-circle-fill"></i>
                            <h4>Add ACL Rule</h4>
                        </div>
                        <div class="config-row">
                            <label>Seq</label>
                            <input type="number" id="ruleSequence" value="50" min="1">
                        </div>
                        <div class="config-row">
                            <label>Action</label>
                            <select id="ruleAction">
                                <option value="permit">Permit</option>
                                <option value="deny">Deny</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label>Protocol</label>
                            <select id="ruleProtocol">
                                <option value="ip">IP</option>
                                <option value="tcp">TCP</option>
                                <option value="udp">UDP</option>
                                <option value="icmp">ICMP</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label>Source</label>
                            <input type="text" id="ruleSource" placeholder="any">
                        </div>
                        <div class="config-row">
                            <label>Dest</label>
                            <input type="text" id="ruleDest" placeholder="any">
                        </div>
                        <div class="config-row">
                            <label>Port</label>
                            <input type="text" id="rulePort" placeholder="80">
                        </div>
                        <button class="btn btn-primary" id="addAclRule">
                            <i class="ri-add-fill"></i>
                            Add Rule
                        </button>
                    </div>

                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-exchange-fill"></i>
                            <h4>NAT Config</h4>
                        </div>
                        <div class="config-row">
                            <label>Type</label>
                            <select id="natType">
                                <option value="none">Disabled</option>
                                <option value="static">Static</option>
                                <option value="dynamic">Dynamic</option>
                                <option value="pat">PAT</option>
                            </select>
                        </div>
                        <div class="config-row">
                            <label>Inside</label>
                            <input type="text" id="natInside" placeholder="192.168.1.0/24">
                        </div>
                        <div class="config-row">
                            <label>Outside</label>
                            <input type="text" id="natOutside" placeholder="203.0.113.1">
                        </div>
                        <button class="btn btn-success" id="configureNat">
                            <i class="ri-check-fill"></i>
                            Apply
                        </button>
                    </div>
                </div>

                <!-- CLI Panel -->
                <div class="panel-section" id="cliPanel">
                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-terminal-box-fill"></i>
                            <h4>Command Line</h4>
                        </div>
                        <div class="terminal" id="terminal">
                            <div class="terminal-header">
                                <div class="terminal-dot red"></div>
                                <div class="terminal-dot yellow"></div>
                                <div class="terminal-dot green"></div>
                                <span class="terminal-title">Connixis CLI</span>
                                <button class="terminal-fullscreen-btn" id="terminalFullscreenBtn" title="Toggle Fullscreen">
                                    <i class="ri-fullscreen-fill"></i>
                                </button>
                            </div>
                            <div class="terminal-body" id="terminalOutput">
                                <div class="terminal-line info">╔════════════════════════════════════╗</div>
                                <div class="terminal-line info">║   Connixis CLI v3.0                ║</div>
                                <div class="terminal-line info">║   Network Engineering Simulator    ║</div>
                                <div class="terminal-line info">╚════════════════════════════════════╝</div>
                                <div class="terminal-line"></div>
                                <div class="terminal-line output">Type 'help' for commands</div>
                            </div>
                            <div class="terminal-input-wrapper">
                                <span class="terminal-prompt">$</span>
                                <input type="text" class="terminal-input" id="terminalInput" placeholder="Enter command..." autocomplete="off" spellcheck="false">
                            </div>
                        </div>
                    </div>

                    <div class="config-group">
                        <div class="config-group-header">
                            <i class="ri-flashlight-fill"></i>
                            <h4>Quick Commands</h4>
                        </div>
                        <div class="quick-commands">
                            <button class="quick-cmd" onclick="executeCommand('show ip route')">show ip route</button>
                            <button class="quick-cmd" onclick="executeCommand('show interfaces')">show interfaces</button>
                            <button class="quick-cmd" onclick="executeCommand('show arp')">show arp</button>
                            <button class="quick-cmd" onclick="executeCommand('show vlan brief')">show vlan</button>
                            <button class="quick-cmd" onclick="executeCommand('show run')">show run</button>
                            <button class="quick-cmd" onclick="executeCommand('show ip int brief')">show ip int</button>
                            <button class="quick-cmd" onclick="executeCommand('show mac address-table')">show mac</button>
                            <button class="quick-cmd" onclick="executeCommand('show cdp neighbors')">show cdp</button>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item" data-action="configure">
            <i class="ri-settings-3-fill"></i>
            Configure
        </div>
        <div class="context-menu-item" data-action="console">
            <i class="ri-terminal-box-fill"></i>
            Console
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="ping">
            <i class="ri-radar-fill"></i>
            Ping
        </div>
        <div class="context-menu-item" data-action="traceroute">
            <i class="ri-route-fill"></i>
            Traceroute
        </div>
        <div class="context-menu-item" data-action="capture">
            <i class="ri-file-search-fill"></i>
            Packet Capture
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="enable">
            <i class="ri-checkbox-circle-fill"></i>
            Enable
        </div>
        <div class="context-menu-item" data-action="disable">
            <i class="ri-close-circle-fill"></i>
            Disable
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="duplicate">
            <i class="ri-file-copy-fill"></i>
            Duplicate
        </div>
        <div class="context-menu-item danger" data-action="delete">
            <i class="ri-delete-bin-fill"></i>
            Delete
        </div>
    </div>

    <!-- Save Modal -->
    <div class="modal" id="saveModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="ri-save-3-fill"></i> Save Topology</h3>
                <button class="modal-close" onclick="closeModal('saveModal')">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: var(--space-4); color: var(--text-secondary);">Choose a format to save your network topology:</p>
                
                <div class="save-format-grid">
                    <div class="save-format-option" data-format="json" onclick="selectSaveFormat('json')">
                        <i class="ri-file-code-fill"></i>
                        <span>JSON</span>
                        <small>Editable format</small>
                    </div>
                    <div class="save-format-option" data-format="png" onclick="selectSaveFormat('png')">
                        <i class="ri-image-fill"></i>
                        <span>PNG</span>
                        <small>High quality image</small>
                    </div>
                    <div class="save-format-option" data-format="jpg" onclick="selectSaveFormat('jpg')">
                        <i class="ri-image-2-fill"></i>
                        <span>JPG</span>
                        <small>Compressed image</small>
                    </div>
                </div>

                <div class="save-name-input" id="saveNameInput">
                    <label for="saveFileName">File Name:</label>
                    <input type="text" id="saveFileName" placeholder="my-network-topology">
                </div>

                <div class="save-modal-actions">
                    <button class="btn" style="background: var(--bg-tertiary); color: var(--text-secondary); border-color: var(--border-primary);" onclick="closeModal('saveModal')">
                        Cancel
                    </button>
                    <button class="btn btn-primary" id="confirmSaveBtn" onclick="confirmSave()" disabled>
                        <i class="ri-download-fill"></i>
                        Save File
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Subnet Calculator Modal -->
    <div class="modal" id="subnetModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="ri-calculator-fill"></i> Subnet Calculator</h3>
                <button class="modal-close" onclick="closeModal('subnetModal')">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="config-row">
                    <label>IP Address</label>
                    <input type="text" id="subnetIP" placeholder="192.168.1.0">
                </div>
                <div class="config-row">
                    <label>CIDR/Mask</label>
                    <input type="text" id="subnetCIDR" placeholder="/24">
                </div>
                <button class="btn btn-primary" onclick="calculateSubnet()">
                    <i class="ri-calculator-fill"></i>
                    Calculate
                </button>
                <div class="subnet-results" id="subnetResults" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- Ping Modal -->
    <div class="modal" id="pingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="ri-radar-fill"></i> Ping Test</h3>
                <button class="modal-close" onclick="closeModal('pingModal')">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="config-row">
                    <label>Source</label>
                    <select id="pingSource"></select>
                </div>
                <div class="config-row">
                    <label>Destination</label>
                    <select id="pingDestination"></select>
                </div>
                <div class="config-row">
                    <label>Count</label>
                    <input type="number" id="pingCount" value="4" min="1" max="100">
                </div>
                <div class="config-row">
                    <label>Size</label>
                    <input type="number" id="pingSize" value="32" min="32" max="65500">
                </div>
                <button class="btn btn-primary" onclick="startPing()">
                    <i class="ri-play-fill"></i>
                    Start Ping
                </button>
                <div class="terminal" style="margin-top: var(--space-4);">
                    <div class="terminal-header">
                        <div class="terminal-dot red"></div>
                        <div class="terminal-dot yellow"></div>
                        <div class="terminal-dot green"></div>
                        <span class="terminal-title">Ping Output</span>
                    </div>
                    <div class="terminal-body" id="pingOutput" style="height: 150px;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- JavaScript -->
    <script src="connixis.js"></script>
    <script src="console.js"></script>
</body>
</html>